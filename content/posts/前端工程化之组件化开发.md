---
title: "å‰ç«¯å·¥ç¨‹åŒ–ä¹‹ç»„ä»¶åŒ–å¼€å‘"
description: "æŠ½ç¦»å°è£…å¹¶ä½¿ç”¨ Storybook ç®¡ç†å‰ç«¯ç»„ä»¶"
date: "2021-02-09T11:31:30+08:00"
tags: ["Vue.js", "å‰ç«¯å·¥ç¨‹åŒ–", "Storybook"]
keywords: ["Storybook", "ç»„ä»¶åŒ–", "å‰ç«¯å·¥ç¨‹åŒ–"]
categories: ["Tech"]
slug: "component-based-development"
gitinfo: true
comments: true
toc: true
---

æ—¶éš”ä¸€å¹´ï¼Œ[Bit](../bit) æƒ…ç†ä¹‹ä¸­åœ°æ²¡æœ‰ğŸ”¥èµ·æ¥ã€‚So, æˆ‘ä»¬å›¢é˜Ÿç»è¿‡å¯¹å…¶å®ƒç»„ä»¶ç®¡ç†å·¥å…·çš„ POCï¼ŒåŒæ—¶æŠŠ Bit åšä¸åˆ°çš„äº‹æƒ…ä½œä¸ºé‡ç‚¹æ¥è€ƒé‡ï¼Œç¡®å®šäº† Storybook + NPM çš„æŠ€æœ¯æ–¹æ¡ˆæ¥å¼€å‘å’Œç®¡ç†å‰ç«¯å…±ç”¨ç»„ä»¶ï¼Œå¹¶ä¸”æ­£å·§æ’ä¸Šäº† [Storybook 6.0](https://medium.com/storybookjs/storybook-6-0-1e14a2071000)ï¼Œç»„ä»¶çš„å®šä¹‰æ–¹å¼å’Œç»„ä»¶æ–‡æ¡£çš„æ’°å†™æ–¹å¼éƒ½æœ‰å¾ˆå¤§ç¨‹åº¦çš„çªç ´ï¼Œæ›´é€‚åˆå‰ç«¯å¼€å‘äººå‘˜äº†[^1]ï¼Œè¿™ç‚¹æˆ‘æ˜¯é€šè¿‡ä¸åŒç‰ˆæœ¬çš„ä½¿ç”¨åˆ‡å®ä½“ä¼šåˆ°äº†ğŸ‘ã€‚6.0 åŒæ—¶åº”å¹¿å¤§ä½¿ç”¨è€…çš„åæ§½é‡å†™äº† Storybook çš„å®˜æ–¹æ–‡æ¡£ï¼Œå¯åœ¨ç›®å‰æ¥çœ‹ä¾ç„¶å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚æ²¡æœ‰ä¸­æ–‡ç‰ˆæœ¬ã€æ²¡æœ‰ Vue çš„ç¤ºä¾‹ä»£ç ï¼Œç€å®è®©æˆ‘ä»¬åœ¨å®è·µçš„è¿‡ç¨‹ä¸­è´¹äº†ä¸å°‘åŠŸå¤«ï¼Œä½†å¥½åœ¨ç»ˆä¹è½¬åŠŸæˆï¼Œé›†æˆç»„ä»¶é¢„è§ˆã€åŠ¨æ€æ›´æ–°ã€å‚æ•°è¯´æ˜ç­‰åŠŸèƒ½çš„è‡ªåŠ¨åŒ–å‰ç«¯å…±ç”¨ç»„ä»¶å¹³å°æˆåŠŸæ­å»ºè¿è½¬ğŸ‰ã€‚

ç»„ä»¶åŒ–å…¶å®å¹¶ä¸éš¾ï¼Œåªéœ€è¦è€ƒè™‘ä¸‰ä¸ªé—®é¢˜ï¼š

1. å¦‚ä½•..å®šä¹‰..ç»„ä»¶ï¼Ÿ
2. å¦‚ä½•..å±•ç¤º..ç»„ä»¶ï¼Ÿ
3. å¦‚ä½•..å…±ç”¨..ç»„ä»¶ï¼Ÿ

1éš¾åœ¨å¦‚ä½•æ ¹æ®ä¸šåŠ¡ç»´åº¦æŠ½ç¦»ç»„ä»¶ï¼ŒåŒæ—¶ä¹Ÿè€ƒéªŒç»„ä»¶å°è£…çš„èƒ½åŠ›ï¼Œä¹Ÿå°±æ˜¯ä»£ç çš„åŸºæœ¬åŠŸäº†ï¼›2éš¾åœ¨å±•ç¤ºå·¥å…·çš„é€‰å–å’Œå®é™…ç”¨æ³•ï¼Œå¾ˆåº†å¹¸ï¼Œè¿™è¶Ÿæµ‘æ°´æˆ‘å·²ç»æ›¿çœ‹åˆ°è¿™ç¯‡æ–‡ç« çš„ä½ æ·Œäº†ğŸ˜Œï¼Œç­”æ¡ˆå°±æ˜¯ Storybookï¼›ç¬¬3ä¸ªé—®é¢˜å…ˆæŠ›å¼€æŠ€æœ¯éš¾åº¦ï¼Œå®ƒæ›´è€ƒé‡æ•´ä¸ªå›¢é˜Ÿçš„åä½œåº¦å»å®é™…è¿ç”¨æŠ½ç¦»çš„ç»„ä»¶ï¼Œå…±åŒæ¨è¿›ç»„ä»¶åŒ–è¿›ç¨‹ï¼Œè¿™æ— ç–‘æ‰æ˜¯æœ€éš¾å®ç°çš„ï¼Œå¦åˆ™æ•´ä¸ªå·¥ç¨‹åŒ–åˆæœ‰ä»€ä¹ˆæ„ä¹‰å‘¢ï¼Ÿ(è‡ªçœ)

## åˆå§‹åŒ–ç»„ä»¶æ–‡æ¡£
ç»„ä»¶æ–‡æ¡£çš„ç›®çš„æ˜¯å±•ç¤ºå…±ç”¨çš„ UI ç»„ä»¶ï¼Œå°†æ¥éœ€è¦éƒ¨ç½²è‡³çº¿ä¸Šï¼Œå› æ­¤å®ƒæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªç«™ç‚¹ï¼Œè€Œ Storybook å°±æ˜¯ç”Ÿæˆè¿™ä¸ªç«™ç‚¹å·¥å…·ï¼Œå®ƒèƒ½ä¸é¡¹ç›®çš„ä¸»ç¨‹åºéš”ç¦»æ„å»ºå’Œè¿è¡Œã€‚Storybook åšçš„å…¶å®å¾ˆç®€å•ï¼Œå®ƒèƒ½ç»™ä½ çš„æ¯ä¸€ä¸ªç»„ä»¶æ·»åŠ ä¸€ä¸ª..æ•…äº‹..ï¼Œåœ¨è¿™ä¸ªæ•…äº‹é‡Œå¯ä»»ç”±ä½ å¯¹ç»„ä»¶ç‚¹ç¼€å‘æŒ¥ï¼Œæœ€åå®ƒå°†è¿™ä¸€ä¸ªä¸ªæ•…äº‹æ”¾åœ¨ç”Ÿæˆçš„ç«™ç‚¹ä¸Šï¼Œå°±ç»„æˆäº†ã€Šç»„ä»¶æ–‡æ¡£ã€‹ã€‚

### åˆ›å»ºé¡¹ç›®ï¼Œå®‰è£…ä¾èµ–
æ—¢ç„¶ç»„ä»¶æ–‡æ¡£æœ¬è´¨å°±æ˜¯ç«™ç‚¹ï¼Œé‚£ä¹ˆæŒ‰ä¸€ä¸ª Vue é¡¹ç›®æ¥åˆ›å»ºï¼Œå†æ·»åŠ éœ€è¦ç”¨åˆ°çš„ä¾èµ–é¡¹ï¼š

```s
$ vue create my-storybook
$ cd my-storybook
$ vue add vuetify
$ npx sb init # å®‰è£…Storybook
```

> æœ¬æ–‡åŸºäº [Vuetify 2.4.0](https://v2.vuetifyjs.com/zh-Hans/) è¿›è¡Œç»„ä»¶æŠ½ç¦»å°è£…ï¼Œå…¶å®ƒ UI ç»„ä»¶åº“éœ€è‡ªè¡ŒéªŒè¯ä¸ Storybook çš„ç»“åˆæ–¹å¼ã€‚

æˆåŠŸåæ‰§è¡Œ `$ npm run storybook` ä¼šå¯åŠ¨ Storybook å¹¶è‡ªåŠ¨åœ¨æµè§ˆå™¨æ‰“å¼€ç½‘é¡µï¼Œé»˜è®¤ä½¿ç”¨çš„æ˜¯6006ç«¯å£ï¼Œä¸ä¸ Vue å†²çªï¼Œæ‰€ä»¥å¼€å‘ç»„ä»¶æ—¶å¯ä»¥ä½¿ç”¨ Vue é¡¹ç›®å®æ—¶é¢„è§ˆç»„ä»¶çš„æ”¹åŠ¨ï¼Œå¼€å‘å®Œæˆåå†å¼•å…¥ Storybookã€‚

### ç›®å½•åŠé…ç½®
#### Storybook é…ç½®
`.storybook` ç›®å½•ä¸‹å­˜æ”¾ Storybook çš„é…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹ä¸»é…ç½®æ–‡ä»¶ `main.js`ï¼š

```js
/* æ–‡ä»¶ä½ç½®ï¼š.storybook/main.js */

const path = require('path');

module.exports = {
  // æ•…äº‹æ–‡ä»¶çš„æ”¾ç½®ç›®å½•
  stories: ['../src/stories/**/*.stories.js'],
  // è¦ç”¨åˆ°çš„æ’ä»¶
  addons: ['@storybook/addon-actions', '@storybook/addon-links'],
  // Storybookçš„webpacké…ç½®
  webpackFinal: async(config, { configType }) => {
    // é…ç½®å¯åœ¨æ•…äº‹æ–‡ä»¶é‡Œä½¿ç”¨åˆ«å
    config.resolve.alias['@'] = path.resolve(__dirname, '..', 'src');
    // é…ç½®è§£æ Sass
    config.module.rules.push({
      test: /\.s(a|c)ss$/,
      use: ['style-loader', 'css-loader', 'sass-loader'],
      include: path.resolve(__dirname, '../'),
    });
    return config;
  }
};
```

#### Vuetify é…ç½®
ä¸»é¢˜è‰²ã€è¾…è‰²ç­‰ Vuetify ç›¸å…³çš„é…ç½®åœ¨è‡ªåŠ¨ç”Ÿæˆçš„ `src/plugins/vuetify.js` æ–‡ä»¶ä¸­ã€‚è¿™é‡Œå»ºè®®ç›´æ¥å¼•å…¥ `vuetify/lib`ï¼Œå› ä¸ºé»˜è®¤çš„ `vuetify/lib/framework` å†…ä¸åŒ…å«æ ·å¼éƒ¨åˆ†ï¼ŒVue é‡Œæ˜¯é€šè¿‡ [vuetify-loader](https://www.npmjs.com/package/vuetify-loader) ç¼–è¯‘çš„ï¼Œè€Œåé¢ Storybook é‡Œæ²¡æœ‰ vuetify-loaderï¼Œä¼šå¯¼è‡´æ ·å¼å¤±å¸¸ï¼Œç›´æ¥å¯¼å…¥ `vuetify/lib` ä¸€åŠ³æ°¸é€¸ğŸ˜ã€‚

```js
/* æ–‡ä»¶ä½ç½®ï¼šsrc/plugins/vuetify.js */

import Vue from 'vue';
import Vuetify from 'vuetify/lib';

Vue.use(Vuetify);

const theme = {
  primary: '#6DA4D8',
  secondary: '#FDDB55',
  error: '#EF3A61',
  success: '#51AD5A',
  info: '#6DA4D8'
};

export const options = {
  theme: {
    themes: {
      dark: theme,
      light: theme,
    },
  },
  icons: {
    iconfont: 'mdi'
  }
}

export default new Vuetify(options);
```

#### è£…é¥°å™¨
åŸºäºç‰¹å®š UI åº“çš„ç»„ä»¶éœ€è¦æ­é…[è£…é¥°å™¨ Decorators](https://storybook.js.org/docs/vue/writing-stories/decorators) æ¥åœ¨ Storybook ä¸­æ¸²æŸ“ï¼Œåˆ›å»ºå…¨å±€è£…é¥°å™¨æ–‡ä»¶ï¼š

```js
/* æ–‡ä»¶ä½ç½®ï¼š.storybook/preview.js */

import Vue from 'vue';
import Vuetify from 'vuetify';
import { options } from '@/plugins/vuetify'

Vue.use(Vuetify)

export const parameters = {
  // è‡ªåŠ¨ä¸ºç»„ä»¶æ–‡æ¡£ä¸­çš„äº‹ä»¶åŒ¹é…å‚æ•°
  actions: { argTypesRegex: "^on[A-Z].*" },
}

const vuetify = new Vuetify(options)

export const decorators = [
  (story, context) => {
    // åŒ…è£…ç»„ä»¶
    const wrapped = story(context)
    // è¿”å› Vue å­ç±»ï¼Œè¡¨ç¤ºæ¯ä¸€ä¸ªæ•…äº‹åœ¨Storybooké‡Œæ¸²æŸ“å‡ºæ¥éƒ½æ˜¯ä¸€ä¸ªå®Œæ•´çš„Vueå®ä¾‹
    return Vue.extend({
      vuetify,
      components: { wrapped },
      template: `
        <v-app>
          <v-main>
            <wrapped />
          </v-main>
        </v-app>
      `
    })
  },
]
```

> å¦‚æœä½ åœ¨ Vuetify çš„é…ç½®æ–‡ä»¶é‡Œéè¦å¼•å…¥ `vuetify/lib/framework`ï¼Œé‚£ä¹ˆéœ€åœ¨è¿™é‡Œå¦å¤–å¼•å…¥æ ·å¼æ–‡ä»¶ `import 'vuetify/dist/vuetify.min.css';`ã€‚

---

ä¸Šé¢å°±æ˜¯ç¡®ä¿ Storybook å¯æ­£å¸¸æ¸²æŸ“ Material Design é£æ ¼ç»„ä»¶æœ€åŸºæœ¬çš„é…ç½®äº†ï¼Œå½“å‰æ­¥éª¤çš„ç›®å½•å¯å‚è€ƒï¼š

```
.
â”œâ”€ .storybook/
â”‚   â”œâ”€ preview.js
â”‚   â””â”€ main.js
â”œâ”€ doc/
â”œâ”€ node_modules
â”œâ”€ public/
â”œâ”€ src/
â”‚   â”œâ”€ assets/
â”‚   â”œâ”€ components/
â”‚   â”œâ”€ plugins/
â”‚   â”‚   â””â”€ vuetify.js
â”‚   â”œâ”€ stories/
â”‚   â”œâ”€ App.vue
â”‚   â””â”€ main.js
â””â”€ README.md
```

## æŠ½ç¦»å°è£…ç»„ä»¶
å‰ç«¯æŠ½ç¦»åˆ’åˆ†ç»„ä»¶çš„ç›®çš„æ˜¯é™ä½é¡µé¢çš„è€¦åˆåº¦ï¼Œè§£å†³é¡µé¢å†…æˆ–é¡µé¢é—´çš„ä»£ç å¤ç”¨æ€§é—®é¢˜ï¼Œä½†å¹¶ä¸æ˜¯è¯´è¦åˆ’åˆ†å¾—è¶Šç»†è¶Šå¥½ï¼Œæ— è„‘åœ°æŠ½ç¦»å¯¼è‡´éåœ°çš†ç»„ä»¶æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Œè€Œæ˜¯ä¸€å®šè¦**ä»ä¸šåŠ¡å‡ºå‘**ï¼Œè€ƒè™‘ä¸šåŠ¡ä½¿ç”¨çš„åœºæ™¯å’Œé€»è¾‘çš„åˆç†æ€§ï¼Œä¸åŒå…¬å¸ã€ä¸åŒä¸šåŠ¡ç”šè‡³ä¸åŒé¡¹ç›®ä¹‹é—´ç»„ä»¶çš„å¯ä»£å…¥æ€§å’Œå¯æ›¿æ¢æ€§éƒ½æ˜¯æ— æ³•ç¡®å®šçš„ã€‚æ‰€ä»¥è¿™é‡Œåªä»æŠ€æœ¯è§’åº¦å‡ºå‘ï¼Œä»¥æŒ‰é’®ç»„ä»¶ Button é‡ç‚¹çœ‹çœ‹..å°è£…..ç»„ä»¶çš„éƒ¨åˆ†ã€‚

### è®¾ç½®å…¨å±€ç»„ä»¶
ä¸ºäº†ä¸ç”¨åœ¨æŠ½ç¦»ç»„ä»¶æ—¶é¢‘ç¹å¼•å…¥ç»„ä»¶ã€æ³¨å†Œç»„ä»¶æ¥é¢„è§ˆï¼Œå…ˆé…ç½® `src/componnets/` ç›®å½•ä¸‹æ‰€æœ‰ç»„ä»¶ä¸ºå…¨å±€ç»„ä»¶ï¼š

1. å®‰è£… lodashï¼š

```s
$ npm install lodash
```

2. åˆ›å»ºæ–‡ä»¶ `src/utils/global.js`ï¼š

```js
import Vue from 'vue';
import upperFirst from 'lodash/upperFirst';
import camelCase from 'lodash/camelCase';

// å¼•å…¥ç›®å½•ä¸‹çš„å…¨éƒ¨ç»„ä»¶
const requireComponent = require.context('@/components', true, /\.vue$/); 

requireComponent.keys().forEach(fileName => {
  // è·å–ç»„ä»¶é…ç½®
  const componentConfig = requireComponent(fileName);
  // å¤„ç†è·å–ç»„ä»¶å
  const componentName = upperFirst(camelCase(fileName.split('/').pop().replace(/\.\w+$/, '')));
  // å…¨å±€æ³¨å†Œç»„ä»¶
  Vue.component(`Z${componentName}`, componentConfig.default || componentConfig)
});
```

3. å¼•å…¥æ–‡ä»¶ï¼š

```js
/* æ–‡ä»¶ä½ç½®ï¼šsrc/main.js */

++ import './utils/global.js';
```

è¿™æ ·å¤„ç†åï¼Œåœ¨ç»„ä»¶ç›®å½•ä¸‹ç¼–å†™çš„æ‰€æœ‰ Vue ç»„ä»¶åœ¨ä»»æ„ä½ç½®éƒ½å¯ç›´æ¥ä½¿ç”¨ï¼š

```vue
<template>
  <div>
    <z-button />
  </div>
</template>
```

### å°è£… Button ç»„ä»¶
..äºŒæ¬¡å°è£…..è¦æ±‚ä¸€å®šè¦å¯¹[åŸç»„ä»¶](https://v2.vuetifyjs.com/zh-Hans/components/buttons/)å±æ€§å’Œæ–¹æ³•çš„ä½¿ç”¨äº†å¦‚æŒ‡æŒï¼Œå¿…è¦æ—¶ä¹Ÿéœ€è¦æ·±å…¥æºç æ¢ç©¶ç»„ä»¶åŠŸèƒ½çš„å®ç°æ–¹å¼ã€‚å…ˆä»ä¸šåŠ¡è§’åº¦å‡ºå‘ç¡®å®šæŒ‰é’®çš„ä½¿ç”¨åœºæ™¯ï¼Œéšä¹‹ä¹Ÿå°±åŸºæœ¬ç¡®å®šäº†éœ€è¦ç”¨åˆ°çš„å±æ€§å’Œæ–¹æ³•ï¼Œå¦‚ï¼š

- `color`ï¼šæŒ‰é’®é¢œè‰²
- `width`ï¼šå®½åº¦
- `disabled`ï¼šç¦ç”¨
- `icon`ï¼šæŒ‡å®šä¸ºå›¾æ ‡æŒ‰é’®
- ...

æ‰€ä»¥ï¼ŒComponent Z-Button v0.0.1ï¼š

```vue
<template>
  <v-btn 
    :color="color" 
    :width="width" 
    :color="color" 
    :width="width" 
    :x-small="xSmall"
    :small="small"
    :large="large"
    :x-large="xLarge"
    :icon="icon" 
    :disabled="disabled" 
    v-on="$listeners"
  >
    <slot></slot>
  </v-btn>
</template>

<script>
export default {
  name: "Button",
  props: {
    color: {
      type: String,
      default: 'primary'
    },
    width: [String, Number],
    icon: Boolean,
    disabled: Boolean,
    small: Boolean,
    xSmall: Boolean,
    large: Boolean,
    xLarge: Boolean
  },
};
</script>
```

å…¶ä¸­ï¼Œ`v-on="$listeners"` ç›´æ¥ç›‘å¬ç»„ä»¶çš„åŸç”Ÿäº‹ä»¶ï¼Œæ¯”å¦‚ç‚¹å‡»äº‹ä»¶ç›´æ¥åœ¨ä½¿ç”¨æ—¶ç»‘å®šå³å¯ã€‚`<slot></slot>` æ’æ§½ç»™ç»„ä»¶æä¾›äº†è¾ƒé«˜çš„å¯è‡ªå®šä¹‰ç¨‹åº¦ã€‚é¢„è§ˆç»„ä»¶ï¼š

```vue
/* æ–‡ä»¶ä½ç½®ï¼šsrc/App.vue */

<template>
  <v-app>
    <v-main>
      <z-btn color="info" width="100" @click="hello">
        <v-icon>mdi-heart</v-icon>
      </z-btn>
    </v-main>
  </v-app>
</template>

<script>
export default {
  name: "App",
  methods: {
    hello(){
      console.log('hello');      
    }
  },
};
</script>
```

### ç¼–å†™ç»„ä»¶æ–‡æ¡£
æŠ½ç¦»å°è£…å¥½ç»„ä»¶åå†è½¬åˆ° Storybook çš„éƒ¨åˆ†ï¼Œå¼€å§‹ä¹‹å‰å…ˆå®Œå–„ä¸¤ä»¶äº‹ï¼š

**1. å®‰è£…ç”¨äºç”Ÿæˆæ–‡æ¡£çš„æ’ä»¶**

```s
$ npm install --save-dev @storybook/addon-essentials
```

```js
/* æ–‡ä»¶ä½ç½®ï¼š.storybook/main.js */

module.exports = {
  ...
  addons: ['@storybook/addon-actions', '@storybook/addon-links', '@storybook/addon-essentials'],
}
```

æ˜¯çš„ï¼Œè¿™æ˜¯ Storybook 6.0 çš„ç¬¬ä¸€ä¸ªâ€œå“‡å¡â€ï¼Œå®ƒå¯ä»¥è®©ä½ é›¶é…ç½®å³å¯ä½“éªŒ..ç»„ä»¶æ–‡æ¡£..çš„å¥‡å¦™ï¼ŒåŒ…æ‹¬è‡ªåŠ¨ç”Ÿæˆçš„æ–‡æ¡£ã€å‚æ•°æ§åˆ¶ã€æ“ä½œè®°å½•ç­‰ã€‚

**2. å¤„ç† icon**

é»˜è®¤ä½¿ç”¨çš„ icon æ˜¯é€šè¿‡ `public/index.html` å¼•å…¥çš„ï¼Œæ‰€ä»¥ Storybook å†…æ— æ³•æ˜¾ç¤ºï¼Œéœ€æ‰‹åŠ¨å®‰è£…ï¼š

```s
$ npm i @mdi/font
```

åœ¨ `src/main.js` å’Œ `.storybook/preview.js` ä¸­**åˆ†åˆ«**å¼•å…¥ï¼š

```js
++ import '@mdi/font/css/materialdesignicons.css';
```

---

ç„¶åä¸ºä½ çš„ç»„ä»¶åˆ›å»ºæ•…äº‹å§ğŸ¤¡ï¼š

```js
/* æ–‡ä»¶ä½ç½®ï¼šsrc/stories/Button.stories.js */

// å¯¼å…¥äº‹ä»¶å¤„ç†
import { action } from '@storybook/addon-actions';
// å¯¼å…¥ç»„ä»¶
import ZBtn from '@/components/Btn.vue';

export default {
  title: 'Vuetify Components/Button',
  component: ZBtn,
  // è¯¦ç»†çš„å‚æ•°æ–‡æ¡£
  argTypes: {
    color: {
      description: 'ç»„ä»¶é¢œè‰²ï¼Œé»˜è®¤ä¸ºä¸»é¢˜è‰²',
      table: {
        defaultValue: { summary: 'primary' }
      },
    },
    width: {
      description: 'ç»„ä»¶å®½åº¦'
    },
    xSmall: {
      name: 'x-small',
      description: 'å°å°ºå¯¸æŒ‰é’®'
    }
  }
};

// å®šä¹‰ç»„ä»¶æ¨¡æ¿
const Template = (args, { argTypes }) => ({
  components: { ZBtn },
  props: Object.keys(argTypes),
  template: '<z-btn v-bind="$props" @click="clickBtn">æŒ‰é’®</z-btn>',
  methods: { clickBtn: action('click')}
})

// å¯¼å‡ºé»˜è®¤çš„ç»„ä»¶
export const Default = Template.bind({});

// æ·»åŠ ä¸åŒé£æ ¼çš„ç»„ä»¶
export const SizeBtn = () => ({
  components: { ZBtn },
  template: `<v-row align="center">
              <v-col> <z-btn x-small @click="click">x-small</z-btn> </v-col>
              <v-col> <z-btn small>small</z-btn> </v-col>
              <v-col> <z-btn>default</z-btn> </v-col>
              <v-col> <z-btn large>large</z-btn> </v-col>
              <v-col> <z-btn x-large>x-large</z-btn> </v-col>
              <v-col> <z-btn disabled x-large>x-large</z-btn> </v-col>
            </v-row>`,
  methods: { click: action('click')}
});

export const IconBtn = () => ({
  components: { ZBtn },
  template: `<v-row align="center">
              <v-col> <z-btn icon x-small><v-icon>mdi-plus</v-icon></z-btn> </v-col>
              <v-col> <z-btn icon small><v-icon>mdi-plus</v-icon></z-btn> </v-col>
              <v-col> <z-btn icon><v-icon>mdi-plus</v-icon></z-btn> </v-col>
              <v-col> <z-btn icon large> <v-icon>mdi-plus</v-icon> </z-btn> </v-col>
              <v-col> <z-btn icon x-large><v-icon>mdi-plus</v-icon></z-btn> </v-col>
              <v-col> <z-btn disabled icon x-large><v-icon>mdi-plus</v-icon></z-btn> </v-col>
            </v-row>`,
  methods: { click: action('click')},
});
```

è¿™æ—¶ä¼šå‘ç°ç”¨äºé¢„è§ˆç»„ä»¶çš„å®¹å™¨å¤ªé«˜äº†ï¼Œæ²¡æœ‰è‡ªé€‚åº”ç»„ä»¶çš„é«˜åº¦ï¼ŒåŸå› æ˜¯ `.storybook/preview.js` æ–‡ä»¶ä¸­ç”¨äºåŒ…è£¹ç»„ä»¶çš„ `<v-app></v-app>` æœ‰æœ€ä½é«˜åº¦ 100vh çš„é»˜è®¤æ ·å¼ï¼Œä¿®æ”¹ä¹‹ï¼š

```scss
/* æ–‡ä»¶ä½ç½®ï¼šsrc/assets/sass/main.js */

// å–æ¶ˆæœ€ä½é«˜åº¦
.v-application--wrap {
  min-height: 0;
}

// å–æ¶ˆæŒ‰é’®è‹±æ–‡å¤§å†™
.v-btn {
  text-transform: none;
}
```

```js
/* æ–‡ä»¶ä½ç½®ï¼šsrc/plugins/vuetify.js */

++ import '@/assets/sass/main.scss';
```

ç„¶åï¼Œè¾“å…¥ `$ npm run storybook` å¯åŠ¨ Storybook æ¬£èµä½ çš„ç»„ä»¶æ•…äº‹å§ğŸ‰ğŸ‰ï¼š

![button.gif](/images/storybook:button.gif "Button ç»„ä»¶æ–‡æ¡£")

## ç»“è¯­
å®Œæˆç»„ä»¶å’Œæ•…äº‹çš„ç¼–å†™åå¯å°† Storybook æ„å»ºæˆé™æ€ Web åº”ç”¨ç¨‹åºæ¥[å‘å¸ƒ](https://storybook.js.org/docs/vue/workflows/publish-storybook)ï¼Œä»¥ä¾›å›¢é˜Ÿä¹‹é—´å…±äº«ï¼Œè¿˜å¯ä»¥åˆ©ç”¨ GitLab CI/CD ä¸ºå…¶è®¾ç½®è‡ªåŠ¨æ„å»ºåŠéƒ¨ç½²ï¼Œæ€»ä¹‹ï¼Œå®ƒèƒ½åšçš„çœŸçš„å¾ˆå¤šï¼Œç½‘ä¸Šä¹Ÿä¸ä¹å¾ˆå¤š[ä¼˜è´¨çš„ç»„ä»¶æ–‡æ¡£](https://www.wix-style-react.com/?path=/story/introduction-getting-started--getting-started)å€¼å¾—æˆ‘ä»¬å­¦ä¹ ã€‚

å†™åˆ°è¿™é‡Œå‘ç°ç¯‡å¹…æ‹‰çš„æœ‰äº›å¤§äº†ï¼Œè€Œåˆ›å»º NPM ç§æœ‰ä»“åº“ã€å°†ç»„ä»¶å‘å¸ƒä¸º Package ä»¥åŠç»„ä»¶çš„ä½¿ç”¨è¦è¯´çš„è¿˜ä¸å°‘ğŸ˜Œâ€¦â€¦ä¹Ÿç½¢ï¼Œé‚£å°±ä¸”å¬ä¸‹å›åˆ†è§£ã€‚æœ¬æ–‡æ¡ˆä¾‹æ”¾åœ¨äº†æˆ‘çš„ GitHub ä»¥ä¾›å‚è€ƒï¼š

- [Xuezenghuigithub/my-storybook](https://github.com/Xuezenghuigithub/my-storybook)

## References & Resources
1. [Configuring Storybook 6 for Vue 2 + Vuetify 2.3 | Morgan Benton](https://morphatic.com/2020/09/30/configuring-storybook-6-for-vue-2-vuetify-2-3/)

[^1]: "The 6.0 release retools Storybook for professional frontend developers." â€”â€”[Storybook 6.0](https://medium.com/storybookjs/storybook-6-0-1e14a2071000)